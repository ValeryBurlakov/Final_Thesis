# Дипломный проект
## Студент Бурлаков Валерий
### группа - 3508&3370

## Информация о проекте(Тема)
    Реализация системы контроля для личной коллекции монет через телеграм бота
## Цель:
    изучить процессы взаимодействия базы данных MYSQL, библиотеки Aiogram и языка программирования Python
## Задачи
1. Запустить свой сервер.
    * 1.1 использовать локальный системный блок с ОС Ubuntu 22.04
2. Создать телеграм бота при помощи библиотеки aiogram и языка программирования Python.
   * 2.1 реализовать методы(хендлеры):
     * 2.1.1 Создание коллекции
     * 2.1.2 Удаление коллекции
     * 2.1.3 Добавление монеты в коллекцию
     * 2.1.4 удаление монеты из коллекции
3. Создать виртуальное окружение для проекта.
4. Создать базу даных MySQL.
* 4.1 Реализовать грамотно таблицы для сущностей.

# Глава 1. Мессенджер Телеграм, телеграм-бот, Язык программирования Python, База данных MySQL, библиотека Aiogram
### Мессенджер Телеграм:
* кроссплатформенная система мгновенного обмена сообщениями
* (мессенджер) с функциями обмена текстовыми, голосовыми и видеосообщениями, а т
* акже стикерами, фотографиями и файлами многих форматов. 
* Также можно совершать аудио и видеозвонки, устраивать трансляции в каналах и группах, 
* организовывать конференции, многопользовательские группы и каналы. 
* Функциональность приложения может быть значительно расширена при помощи ботов. 
* Клиентские приложения Telegram доступны для Android, iOS, Windows, macOS и GNU/Linux. 
* В июне 2022 года вошёл в пятёрку самых загружаемых приложений, 
* а число его постоянных пользователей превысило 700 миллионов. 
* По словам основателя сервиса Павла Дурова, на начало 2023 года 
* Telegram стал вторым мессенджером в мире по популярности, уступив лишь WhatsApp. 

### Язык программирования Python
* Python — это язык программирования, который широко используется в интернет-приложениях, 
* разработке программного обеспечения, науке о данных и машинном обучении (ML). 
* Разработчики используют Python, потому что он эффективен, прост в изучении и 
* работает на разных платформах. Программы на языке Python можно скачать бесплатно, 
* они совместимы со всеми типами систем и повышают скорость разработки.

Python разработан Гвидо Ван Россумом (Guido Van Rossum), программистом из Нидерландов. 
    Он начал работу над языком в 1989 году в центре Centrum Wiskunde & Informatica (CWI). 
    Изначально язык был полностью любительским проектом: Ван Россум просто хотел чем-то 
    занять себя на рождественских каникулах. Название языка было взято из телешоу 
    BBC «Летающий цирк Монти Пайтона», большим поклонником которого являлся программист.

**Язык Python имеет следующие преимущества:**

    Разработчики могут легко читать и понимать программы на Python, поскольку язык имеет базовый синтаксис, похожий на синтаксис английского. 
    Python помогает разработчикам быть более продуктивными, поскольку они могут писать программы на Python, используя меньше строк кода, чем в других языках.
    Python имеет большую стандартную библиотеку, содержащую многократно используемые коды практически для любой задачи. В результате разработчикам не требуется писать код с нуля.
    Разработчики могут легко сочетать Python с другими популярными языками программирования: Java, C и C++.
    Активное сообщество Python состоит из миллионов поддерживающих разработчиков со всего мира. При возникновении проблем сообщество поможет в их решении.
    Кроме того, в Интернете доступно множество полезных ресурсов для изучения Python. Например, вы можете легко найти видеоролики, учебные пособия, документацию и руководства для разработчиков.
    Python можно переносить на различные операционные системы: Windows, macOS, Linux и Unix.

**Автоматизация тестирования программного обеспечения**

Тестирование программного обеспечения — это процесс проверки соответствия фактических результатов программного обеспечения ожидаемым результатам, который позволяет убедиться, что программное обеспечение не содержит ошибок. 

    Разработчики используют среды модульного тестирования Python (Unittest, Robot и PyUnit) для тестирования написанных функций. 
    Тестировщики программного обеспечения используют Python для написания тестовых примеров для различных сценариев. Например, язык применяется для тестирования пользовательского интерфейса интернет-приложения, нескольких программных компонентов и новых функций. 

Разработчики могут использовать несколько инструментов для автоматического запуска тестовых скриптов. Эти инструменты известны как инструменты непрерывной интеграции / непрерывного развертывания (CI/CD). Тестировщики и разработчики программного обеспечения используют инструменты CI/CD (Travis CI и Jenkins) для автоматизации процесса тестирования. Инструмент CI/CD автоматически запускает тестовые скрипты Python и сообщает о результатах тестирования всякий раз, когда разработчики вносят новые изменения в код.

### БД MySQL
**MySQL** — свободная реляционная система управления базами данных (СУБД). 
Под словом «свободная» подразумевается ее бесплатность, под «реляционная» – работа с базами данных, 
основанных на двумерных таблицах. Система выпущена в 1995 году, её разработка активно продолжается.

У MySQL есть ряд преимуществ:

    Высокая скорость работы.
    Поддержка практически всех CMS.
    Бесплатная лицензия.
    Надежная и простая система безопасности.
    Поддержка нескольких типов таблиц: MyISAM, InnoDB.
    Плагины, позволяющие упростить и настроить работу под себя.
    В одной таблице может содержаться несколько миллионов записей.
    MySQL универсальна и применяется при разработке веб-сайтов,  
    веб-приложений и корпоративных баз данных начального уровня.

### Библиотека Aiogram
    Современная библиотека, набирающая популярность: многие чат-боты написаны на ней.
    Библиотека реализует асинхронное выполнение кода, что позволяет не останавливать 
    работу бота в ожидании ответа пользователя. Кроме того, у Aiogram есть подробная 
    документация и большое русскоязычное комьюнити.
    одно из главных достоинств библиотеки — полная асинхронность. 
    Она использует синтаксис async/await, который позволяет программе 
    выполнять несколько задач одновременно и эффективно управлять потоком выполнения.

Функция, которая обрабатывает сообщение пользователя в Telegram, называется хендлером, то есть обработчиком. 
У каждой команды или группы команд свой обработчик.
В хендлере мы прописываем, что бот должен сделать в ответ на сообщение. 
А для того, чтобы для каждой команды вызывался нужный обработчик, функция оборачивается в декоратор, 
которому передаётся имя команды без символа /.
Служебное слово async указывает интерпретатору, что функция будет работать в асинхронном режиме. 
Это означает, что интерпретатору не нужно ждать, пока выполняется код функции, — 
он может выполнять следующие инструкции, пока start что-нибудь не вернёт. 
Это «что-нибудь» следует за служебным словом await («ожидать»), а не return, как в обычном коде.

## UseCase диаграмма
* используется для моделирования и визуализации взаимодействия
между актерами и системой. Она помогает описать основные функции 
системы, её поведение в конкретных сценариях и понять, как система 
будет использоваться в реальной жизни
![UseCaseDiagram](images/usecasecollectioncoin.png)
## Entity-Relationship diagram
* Диаграмма нужна для визуального представления структуры базы данных. 
Она помогает описать сущности (предметы) и связи между ними в БД. 
Позволяет легко понять, какие данные хранит БД, как они связаны 
между собой, а также определить ключевые атрибуты каждой сущности
![drawSQL](images/ERD.png)

**CREATE TABLE** users (

    id INT PRIMARY KEY,
    username VARCHAR(255),
    coin_collection TEXT
);

**CREATE TABLE** collection (

    id INT PRIMARY KEY AUTO_INCREMENT,
    user_id INT,
    coin_list JSON,
	FOREIGN KEY*(user_id) REFERENCES users(id)
);

**CREATE TABLE** coin (

	id INT PRIMARY KEY,
    _description VARCHAR(255),
    _year INT
);

**CREATE TABLE** photos (

	id INT PRIMARY KEY AUTO_INCREMENT,
    image BLOB
);

5. связать базу данных MySQL с телеграм ботом.
* pip install mysql-connector-python
6. Реализовать методы для работы бота с базой данных
* Добавление/удаление монет
* вывод коллекции
* отправка коллекции в файле на почту
* показывать примерную стоимость монеты на рынке/аукционе
7. Тестирование
    написание тестов, благодаря которым мождно отследить корректность данных

## Версии
### подключено виртуальное окружение
* mysql-connector-python-8.1.0 protobuf-4.21.12
* python 3.10
* aiogram 2.24

### Список используемой литературы:
* https://www.python.org/doc/ - Python documentation
* https://dev.mysql.com/doc/ - MySQL documentation
* https://docs.aiogram.dev/en/latest/# - Aiogram Documentation
* https://core.telegram.org/bots - Telegram bots
* https://ru.wikipedia.org/wiki/Telegram - Мессенджер Телеграм
* https://aws.amazon.com/ru/what-is/python/ - Язык программирования Python
* https://www.nic.ru/help/chto-takoe-mysql_8510.html - БД MySQL
* https://skillbox.ru/media/code/chatboty-v-telegram-na-python-chast-1/#stk-2 - библиотека Aiogram
